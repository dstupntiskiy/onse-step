<app-spinner [isLoading$$]="isLoading"></app-spinner>
<div class="membership-dialog-content">
    <div class="fields-row">
        <mat-checkbox [formControl]="unlimited">
            Безлимит
        </mat-checkbox>
    </div>
    @if(!unlimited.value){
        <mat-form-field>
            <mat-label>Направление</mat-label>
            <mat-select [formControl]="style">
                @for(style of styles; track style){
                    <mat-option [value]="style">{{style.name}}</mat-option>
                }
            </mat-select>
        </mat-form-field>
    }
    <div class="fields-row">
        <mat-form-field>
            <mat-label>Сумма RSD</mat-label>
            <input matInput [formControl]="amount">
        </mat-form-field>
        @if(!unlimited.value){
            <mat-form-field>
                <mat-label>Посещения</mat-label>
                <input matInput [formControl]="visitsNumber">
            </mat-form-field>
        }
    </div>
    <div class="fields-row">
        <mat-form-field>
            <mat-label>Начало</mat-label>
            <input matInput [matDatepicker]="pickerStart" [formControl]="startDate">
            <mat-datepicker-toggle matIconSuffix [for]="pickerStart"></mat-datepicker-toggle>
            <mat-datepicker #pickerStart></mat-datepicker>
        </mat-form-field>
        <mat-form-field>
            <mat-label>Конец</mat-label>
            <input matInput [matDatepicker]="pickerEnd" [formControl]="endDate">
            <mat-datepicker-toggle matIconSuffix [for]="pickerEnd"></mat-datepicker-toggle>
            <mat-datepicker #pickerEnd></mat-datepicker>
        </mat-form-field>
    </div>
    <mat-form-field>
        <mat-label>Комментарий</mat-label>
        <input matInput [formControl]="comment">
    </mat-form-field>
    <div class="actions">
        <div class="left-actions">
            @if(this.data().id){
                <button mat-raised-button color="warn" (click)="onDelete()">Удалить</button>
            }
        </div>
        <div class="right-actions">
            <button mat-button (click)="onClose()">Закрыть</button>
            <button mat-raised-button color="accent" (click)="onSave()">Сохранить</button>
        </div>
    </div>
</div>